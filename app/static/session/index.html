<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIXORA FACE - Поиск фотографий</title>
    <meta name="description" content="Загрузите селфи, и система мгновенного поиска покажет все ваши кадры из фотосессии. Быстро, точно, удобно.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        },
                        success: {
                            500: '#10b981',
                            600: '#059669'
                        },
                        purple: {
                            500: '#8b5cf6',
                            600: '#7c3aed'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Environment Configuration -->
    <script>
        // Configuration from backend
        window.MAIN_API_URL = '{{ MAIN_API_URL }}' || 'https://staging.pixorasoft.ru';
    </script>
    
    <style>
        /* Pixorasoft Dark Theme - Modern Glassmorphism Design */
        
        /* Pixora Light Theme - Design System v1.0 */
        :root {
            --bg-primary: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
            --bg-secondary: #f8fafc;
            --bg-glass: rgba(255, 255, 255, 0.7);
            --bg-glass-hover: rgba(255, 255, 255, 0.8);
            --border-glass: rgba(255, 255, 255, 0.2);
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #64748b;
            --accent-primary: #6366f1;
            --accent-secondary: #4f46e5;
            --accent-success: #10b981;
            --accent-warning: #f59e0b;
            --accent-error: #ef4444;
            --accent-pink: #ec4899;
            --glow-primary: rgba(99, 102, 241, 0.1);
            --glow-secondary: rgba(79, 70, 229, 0.1);
            --indigo-primary: #6366f1;
            --input-bg: #f8fafc;
            --input-border: #e2e8f0;
            --badge-success-bg: #dcfce7;
            --badge-success-text: #166534;
        }
        
        /* Base Styles */
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Animated Background - Light Theme */
        .pixora-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
        }
        
        .pixora-bg::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: float-glow 8s ease-in-out infinite;
        }
        
        .pixora-bg::after {
            content: '';
            position: absolute;
            bottom: 20%;
            right: 10%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(196, 181, 253, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float-glow 10s ease-in-out infinite reverse;
        }
        
        @keyframes float-glow {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.3; }
            50% { transform: translate(-20px, -30px) scale(1.1); opacity: 0.5; }
        }
        
        /* Glassmorphism Components - Light Theme */
        .glass-card {
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-glass);
            border-radius: 20px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .glass-card-hover {
            transition: all 0.3s ease;
        }
        
        .glass-card-hover:hover {
            background: var(--bg-glass-hover);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* Header Styles - Light Theme */
        .pixora-header {
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-glass);
        }
        
        .pixora-logo {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }
        
        /* Button Styles - Pixora Design System v1.0 */
        .btn-pixora {
            background: linear-gradient(to right, #6366f1, #4f46e5);
            border: none;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            padding: 16px 32px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
            height: 56px; /* Default height */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-pixora::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-pixora:hover::before {
            left: 100%;
        }
        
        .btn-pixora:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--glow-primary);
        }
        
        .btn-pixora:active {
            transform: scale(0.95);
            transition: all 0.2s ease;
        }
        
        .btn-pixora:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-camera {
            background: linear-gradient(to right, var(--accent-success), #059669);
        }
        
        .btn-camera:hover {
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
        
        .btn-upload {
            background: linear-gradient(to right, var(--accent-secondary), #7c3aed);
        }
        
        .btn-upload:hover {
            box-shadow: 0 8px 25px var(--glow-secondary);
        }
        
        /* Mobile button adjustments */
        @media (max-width: 768px) {
            .btn-pixora {
                height: 48px; /* h-12 for mobile touch targets */
                padding: 12px 24px;
                font-size: 15px;
            }
        }
        
        /* Input Styles - Light Theme */
        .pixora-checkbox {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--input-border);
            border-radius: 6px;
            background: var(--input-bg);
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        
        .pixora-checkbox:checked {
            background: var(--indigo-primary);
            border-color: var(--indigo-primary);
        }
        
        .pixora-checkbox:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Photo Cards - Light Glassmorphism */
        .photo-card-pixora {
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-glass);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .photo-card-pixora:hover {
            background: var(--bg-glass-hover);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .photo-card-pixora.selected {
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px var(--glow-primary);
        }
        
        .photo-card-pixora .photo-image {
            width: 100%;
            height: auto;
            display: block;
            object-fit: contain;
            max-height: 300px;
        }
        
        /* Loading Styles - Light Theme */
        .pixora-loading {
            background: rgba(248, 250, 252, 0.95);
            backdrop-filter: blur(20px);
        }
        
        .pixora-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(100, 116, 139, 0.2);
            border-top: 3px solid var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Toast Notifications - Light Theme */
        .pixora-toast {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-glass);
            border-radius: 12px;
            color: var(--text-primary);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .pixora-toast.success {
            border-left: 4px solid var(--accent-success);
        }
        
        .pixora-toast.error {
            border-left: 4px solid var(--accent-error);
        }
        
        .pixora-toast.warning {
            border-left: 4px solid var(--accent-warning);
        }
        
        .pixora-toast.info {
            border-left: 4px solid var(--accent-primary);
        }
        
        /* Typography - Pixora Design System v1.0 */
        .text-pixora-primary {
            color: var(--text-primary);
            font-size: 16px;
            line-height: 1.5;
        }
        
        .text-pixora-secondary {
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.5;
        }
        
        .text-pixora-muted {
            color: var(--text-muted);
            font-size: 16px;
            line-height: 1.5;
        }
        
        .text-gradient {
            background: linear-gradient(to right, #6366f1, #ec4899, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .text-gradient-simple {
            background: linear-gradient(to right, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Similarity Badge - Light Theme */
        .similarity-badge {
            background: var(--badge-success-bg);
            color: var(--badge-success-text);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 9999px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 10;
            font-weight: 600;
            font-size: 12px;
            padding: 4px 12px;
        }
        
        /* Price Badge - Pixora Design System */
        .price-badge {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
            z-index: 10;
            font-weight: 600;
            font-size: 13px;
            padding: 6px 14px;
            border-radius: 9999px;
        }
        
        /* Price Badge Skeleton Loader */
        .price-badge-skeleton {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 10;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Mobile Optimizations - Pixora Design System v1.0 */
        @media (max-width: 768px) {
            .pixora-bg::before,
            .pixora-bg::after {
                width: 200px;
                height: 200px;
            }
            
            .glass-card {
                border-radius: 16px;
                margin: 0 16px;
            }
            
            .btn-pixora {
                padding: 12px 24px;
                font-size: 15px;
                height: 48px; /* h-12 for mobile */
            }
            
            /* Action buttons container - Android fix */
            .action-buttons-container {
                display: flex !important;
                flex-direction: column !important;
                gap: 16px !important; /* Increased gap */
                width: 100% !important;
            }
            
            .action-buttons-container .btn-pixora {
                width: 100% !important;
                min-width: unset !important;
                margin: 0 !important;
            }
            
            /* Privacy agreement spacing - Android fix */
            .privacy-agreement-container {
                margin-top: 24px !important; /* space-y-6 equivalent */
                padding-top: 16px !important;
                border-top: 1px solid var(--border-glass);
            }
            
            /* Photo grid - Use 2 columns on mobile as per Pixora Layout patterns */
            .photos-grid-mobile {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
                padding: 0 16px !important;
            }
            
            /* Loading indicator styles */
            .mobile-loading-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(248, 250, 252, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                backdrop-filter: blur(20px);
            }
            
            .mobile-loading-content {
                background: var(--bg-glass);
                backdrop-filter: blur(20px);
                border: 1px solid var(--border-glass);
                padding: 2rem;
                border-radius: 1rem;
                text-align: center;
                max-width: 280px;
                margin: 1rem;
                color: var(--text-primary);
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
            
            .mobile-spinner {
                width: 40px;
                height: 40px;
                border: 4px solid rgba(100, 116, 139, 0.2);
                border-top: 4px solid var(--accent-primary);
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 1rem;
            }
            
            /* Security toast positioning */
            .security-toast {
                z-index: 10000 !important;
                position: fixed !important;
                top: 1rem !important;
                left: 1rem !important;
                right: 1rem !important;
                max-width: calc(100vw - 2rem) !important;
            }
        }
        
        /* Tablet adjustments */
        @media (min-width: 769px) and (max-width: 1024px) {
            .action-buttons-container {
                flex-direction: column !important;
                align-items: center !important;
                gap: 1rem !important;
            }
            
            .action-buttons-container .btn-pixora {
                width: 100% !important;
                max-width: 300px !important;
            }
        }
        
        /* File input hiding - Critical Android fix */
        .file-input-hidden {
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
            z-index: -1 !important;
            visibility: hidden !important;
        }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .animate-pulse-slow {
            animation: pulse-slow 4s ease-in-out infinite;
        }
        
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        
        /* Photo grid responsive - Pixora Layout patterns */
        @media (max-width: 768px) {
            #photos-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 columns on mobile */
                gap: 12px;
                padding: 0 1rem;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            #photos-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1025px) {
            #photos-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 1280px) {
            #photos-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body class="font-sans min-h-screen">
    <!-- Animated Background -->
    <div class="pixora-bg"></div>
    
    <!-- Header -->
    <header class="pixora-header sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
                        <i class="fas fa-camera text-white text-lg"></i>
                    </div>
                    <span class="pixora-logo text-xl font-bold">PIXORA FACE</span>
                </div>
                
                <!-- Navigation -->
                <div class="flex items-center space-x-6">
                    <!-- Language Selector -->
                    <div class="flex items-center space-x-2 glass-card rounded-lg p-1">
                        <button class="px-3 py-1 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-purple-600 rounded-md transition-colors">
                            RU
                        </button>
                        <button class="px-3 py-1 text-sm font-medium text-pixora-secondary hover:text-pixora-primary transition-colors">
                            EN
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="hero-section" class="py-20 lg:py-32">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <!-- Left Column - Content -->
                <div class="text-center lg:text-left">
                    <!-- Main Heading -->
                    <h1 id="session-title" class="text-4xl sm:text-5xl lg:text-6xl font-bold text-pixora-primary leading-tight mb-8">
                        Найдите свои 
                        <span class="text-gradient">
                            профессиональные фотографии
                        </span>
                        за считанные секунды
                    </h1>
                    
                    <!-- Subtitle -->
                    <p class="text-xl text-pixora-secondary mb-10 max-w-2xl">
                        Загрузите селфи, и система мгновенного поиска покажет все ваши кадры из фотосессии. 
                        Быстро, точно и удобно.
                    </p>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons-container flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <button id="camera-btn" class="btn-pixora btn-camera flex items-center justify-center space-x-3 min-w-[200px] opacity-50 cursor-not-allowed" disabled>
                            <i class="fas fa-camera text-xl"></i>
                            <span>Снять с камеры</span>
                        </button>
                        
                        <button id="upload-btn" class="btn-pixora btn-upload flex items-center justify-center space-x-3 min-w-[200px] opacity-50 cursor-not-allowed" disabled>
                            <i class="fas fa-cloud-upload-alt text-xl"></i>
                            <span>Загрузить фото</span>
                        </button>
                    </div>
                    
                    <!-- Privacy Agreement -->
                    <div class="privacy-agreement-container flex items-start space-x-3 mt-6 max-w-2xl" style="margin-top: 24px;">
                        <input type="checkbox" id="privacy-agreement" class="pixora-checkbox">
                        <label for="privacy-agreement" class="text-sm text-pixora-secondary leading-relaxed">
                            Я принимаю 
                            <a href="#" class="text-gradient-simple hover:opacity-80 underline">правила обработки персональных данных</a> 
                            и подтверждаю согласие с 
                            <a href="#" class="text-gradient-simple hover:opacity-80 underline">публичной офертой</a>.
                        </label>
                    </div>
                    
                    <!-- Hidden File Inputs (completely hidden on mobile) -->
                    <input type="file" id="file-input" accept="image/*" capture="user" class="file-input-hidden">
                    <!-- Fallback input for Android compatibility -->
                    <input type="file" id="fallback-input" accept="image/*" capture="environment" class="file-input-hidden">
                </div>
                
                <!-- Right Column - Illustration -->
                <div class="flex justify-center lg:justify-end">
                    <div class="relative">
                        <!-- Selfie Placeholder -->
                        <div class="selfie-placeholder glass-card w-80 h-80 rounded-3xl flex items-center justify-center animate-float">
                            <div class="text-center">
                                <div class="w-20 h-20 glass-card rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                                    <i class="fas fa-user text-3xl text-pixora-secondary"></i>
                                </div>
                                <p class="text-pixora-secondary font-medium">Ваше селфи здесь</p>
                            </div>
                        </div>
                        
                        <!-- Decorative Elements -->
                        <div class="absolute -top-4 -right-4 w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full animate-pulse-slow"></div>
                        <div class="absolute -bottom-4 -left-4 w-6 h-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full animate-pulse-slow" style="animation-delay: 2s;"></div>
                        <div class="absolute top-1/2 -right-8 w-4 h-4 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full animate-pulse-slow" style="animation-delay: 4s;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Loading Search -->
    <div id="search-loading" class="hidden py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="glass-card rounded-2xl p-8 max-w-md mx-auto">
                <div class="pixora-spinner mx-auto mb-4"></div>
                <h3 class="text-lg font-semibold text-pixora-primary mb-2">Поиск ваших кадров в галерее...</h3>
                <p class="text-pixora-secondary status-message">Система анализирует ваше селфи</p>
            </div>
        </div>
    </div>

    <!-- No Results -->
    <div id="no-results" class="hidden py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="glass-card rounded-2xl p-8 max-w-md mx-auto">
                <div class="w-16 h-16 glass-card rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-search text-2xl text-pixora-secondary"></i>
                </div>
                <h3 class="text-xl font-bold text-pixora-primary mb-4">Фотографии не найдены</h3>
                <p class="text-pixora-secondary mb-6">
                    К сожалению, мы не смогли найти ваши фотографии в этой галерее. 
                    Попробуйте загрузить другое селфи с лучшим качеством.
                </p>
                <button id="try-again-btn" class="btn-pixora">
                    Попробовать снова
                </button>
            </div>
        </div>
    </div>

    <!-- Results Section -->
    <div id="results-section" class="hidden py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Results Header -->
            <div class="text-center mb-16">
                <h2 class="text-3xl sm:text-4xl font-bold text-pixora-primary mb-4">
                    Ваши фотографии найдены!
                </h2>
                <p id="results-count" class="text-xl text-pixora-secondary"></p>
            </div>
            
            <!-- Photos Grid -->
            <div id="photos-grid" class="grid gap-6 mb-12">
                <!-- Photos will be inserted here -->
            </div>
            
            <!-- Action Buttons -->
            <div class="text-center">
                <button id="select-all-btn" class="btn-pixora mr-4 mb-4">
                    Выбрать все фотографии
                </button>
                <button id="buy-selected-btn" class="btn-pixora btn-camera mb-4">
                    Купить выбранные (<span id="selected-count">0</span>)
                </button>
            </div>
        </div>
    </div>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Section Header -->
            <div class="text-center mb-16">
                <h2 class="text-3xl sm:text-4xl font-bold text-pixora-primary mb-4">
                    Как это работает?
                </h2>
                <p class="text-xl text-pixora-secondary max-w-3xl mx-auto">
                    Всего три простых шага, чтобы найти все свои фотографии
                </p>
            </div>
            
            <!-- Steps -->
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Step 1 -->
                <div class="step-card glass-card glass-card-hover rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-camera text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-pixora-primary mb-4">1. Загрузите селфи</h3>
                    <p class="text-pixora-secondary">
                        Сделайте селфи или загрузите фото с вашим лицом. 
                        Система мгновенного поиска найдет все ваши кадры.
                    </p>
                </div>
                
                <!-- Step 2 -->
                <div class="step-card glass-card glass-card-hover rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-brain text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-pixora-primary mb-4">2. Система сканирует галерею</h3>
                    <p class="text-pixora-secondary">
                        Технология поиска находит ваше лицо среди 
                        фотографий этой сессии с высокой точностью.
                    </p>
                </div>
                
                <!-- Step 3 -->
                <div class="step-card glass-card glass-card-hover rounded-2xl p-8 text-center">
                    <div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-images text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-pixora-primary mb-4">3. Получите свои фото</h3>
                    <p class="text-pixora-secondary">
                        Просматривайте, выбирайте и скачивайте все 
                        найденные фотографии в высоком качестве.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq-section" class="py-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Section Header -->
            <div class="text-center mb-16">
                <h2 class="text-3xl sm:text-4xl font-bold text-pixora-primary mb-4">
                    Часто задаваемые вопросы
                </h2>
                <p class="text-xl text-pixora-secondary">
                    Ответы на популярные вопросы о нашем сервисе
                </p>
            </div>
            
            <!-- FAQ Items -->
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div class="faq-item glass-card rounded-xl overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-5 text-left flex justify-between items-center hover:bg-glass-hover transition-colors">
                        <span class="font-semibold text-pixora-primary">Насколько точно работает распознавание лиц?</span>
                        <i class="fas fa-chevron-down text-pixora-secondary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content hidden px-6 pb-5">
                        <p class="text-pixora-secondary">
                            Наша система использует современные алгоритмы поиска с точностью более 95%. 
                            Технология учитывает различные углы съемки, освещение и качество фотографий.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ Item 2 -->
                <div class="faq-item glass-card rounded-xl overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-5 text-left flex justify-between items-center hover:bg-glass-hover transition-colors">
                        <span class="font-semibold text-pixora-primary">Безопасно ли загружать свои фотографии?</span>
                        <i class="fas fa-chevron-down text-pixora-secondary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content hidden px-6 pb-5">
                        <p class="text-pixora-secondary">
                            Да, абсолютно безопасно. Мы используем шифрование данных и защищенное хранение. 
                            Все загруженные изображения автоматически удаляются после завершения поиска.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ Item 3 -->
                <div class="faq-item glass-card rounded-xl overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-5 text-left flex justify-between items-center hover:bg-glass-hover transition-colors">
                        <span class="font-semibold text-pixora-primary">Сколько времени занимает поиск?</span>
                        <i class="fas fa-chevron-down text-pixora-secondary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content hidden px-6 pb-5">
                        <p class="text-pixora-secondary">
                            Обычно поиск занимает от 10 до 30 секунд, в зависимости от размера галереи фотографий. 
                            Для больших фотосессий время может увеличиться до 1-2 минут.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ Item 4 -->
                <div class="faq-item glass-card rounded-xl overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-5 text-left flex justify-between items-center hover:bg-glass-hover transition-colors">
                        <span class="font-semibold text-pixora-primary">Что делать, если фото не найдены?</span>
                        <i class="fas fa-chevron-down text-pixora-secondary transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content hidden px-6 pb-5">
                        <p class="text-pixora-secondary">
                            Попробуйте загрузить другое селфи с лучшим качеством и освещением. 
                            Также убедитесь, что вы участвовали в данной фотосессии и фотографии уже загружены в галерею.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="glass-card border-t border-glass text-pixora-primary py-12 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div class="md:col-span-2">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
                            <i class="fas fa-camera text-white text-lg"></i>
                        </div>
                        <span class="pixora-logo text-xl font-bold">PIXORA FACE</span>
                    </div>
                    <p class="text-pixora-secondary mb-4 max-w-md">
                        Современная платформа для поиска фотографий с помощью 
                        искусственного интеллекта. Быстро, точно, удобно.
                    </p>
                </div>
                
                <!-- Links -->
                <div>
                    <h3 class="font-semibold mb-4 text-pixora-primary">Сервис</h3>
                    <ul class="space-y-2 text-pixora-secondary">
                        <li><a href="#how-it-works" class="hover:text-pixora-primary transition-colors">Как это работает</a></li>
                        <li><a href="#" class="hover:text-pixora-primary transition-colors">Поддержка</a></li>
                        <li><a href="#faq-section" class="hover:text-pixora-primary transition-colors">FAQ</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div>
                    <h3 class="font-semibold mb-4 text-pixora-primary">Контакты</h3>
                    <ul class="space-y-2 text-pixora-secondary">
                        <li><a href="#" class="hover:text-pixora-primary transition-colors">Связаться с нами</a></li>
                        <li><a href="#" class="hover:text-pixora-primary transition-colors">Политика конфиденциальности</a></li>
                        <li><a href="#" class="hover:text-pixora-primary transition-colors">Условия использования</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-glass mt-8 pt-8 text-center text-pixora-secondary">
                <p>&copy; 2026 PIXORASOFT. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <!-- Camera Modal -->
    <div id="camera-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="glass-card rounded-2xl p-6 max-w-md w-full">
            <div class="text-center mb-6">
                <h3 class="text-xl font-bold text-pixora-primary mb-2">Сделайте селфи</h3>
                <p class="text-pixora-secondary">Убедитесь, что ваше лицо хорошо видно</p>
            </div>
            
            <div class="relative mb-6">
                <video id="camera-video" class="w-full h-64 glass-card rounded-xl object-cover" autoplay muted></video>
                <canvas id="camera-canvas" class="hidden"></canvas>
            </div>
            
            <div class="flex space-x-3">
                <button id="capture-photo" class="flex-1 btn-pixora btn-camera">
                    <i class="fas fa-camera mr-2"></i>
                    Сделать фото
                </button>
                <button id="cancel-camera" class="flex-1 btn-pixora" style="background: linear-gradient(135deg, #6b7280, #4b5563);">
                    Отмена
                </button>
            </div>
        </div>
    </div>

    <!-- Photo Modal -->
    <div id="photo-modal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-card rounded-2xl max-w-4xl max-h-[90vh] overflow-hidden">
            <div class="flex justify-between items-center p-4 border-b border-glass">
                <h3 id="modal-title" class="text-lg font-semibold text-pixora-primary">Предварительный просмотр</h3>
                <button id="close-modal" class="text-pixora-secondary hover:text-pixora-primary p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="p-4">
                <img id="modal-image" src="" alt="" class="w-full h-auto max-h-[60vh] object-contain rounded-lg">
                <div class="flex justify-between items-center mt-4">
                    <div>
                        <span id="modal-similarity" class="similarity-badge"></span>
                    </div>
                    <div class="flex gap-3">
                        <button id="modal-select-btn" class="btn-pixora btn-upload">
                            Выбрать для покупки
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Floating Purchase Bar -->
    <div id="floating-bar" class="hidden fixed bottom-0 left-0 right-0 z-40 bg-white/70 backdrop-blur-md border-t border-white/20 shadow-2xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
                <!-- Left: Selection Info -->
                <div class="text-center sm:text-left">
                    <p class="text-sm text-pixora-secondary">Выбрано фото: <span id="selected-count" class="font-bold text-pixora-primary">0</span></p>
                    <p class="text-lg font-bold text-gradient-simple">Итого: <span id="total-price">0</span> ₽</p>
                </div>
                
                <!-- Right: Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
                    <button id="buy-selected-btn" class="btn-pixora btn-camera whitespace-nowrap">
                        <i class="fas fa-shopping-cart mr-2"></i>
                        Купить выбранные
                    </button>
                    <button id="buy-archive-btn" class="btn-pixora whitespace-nowrap" style="background: linear-gradient(to right, #8b5cf6, #7c3aed);">
                        <i class="fas fa-archive mr-2"></i>
                        Купить весь архив
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/face-search-pricing.js"></script>
</body>
</html>