# Ручные тесты и диагностические скрипты

Эти скрипты предназначены для ручного тестирования, диагностики и отладки системы.

## Диагностические скрипты

### `diagnose_500_errors.py`
Диагностика 500 ошибок в API:
- Проверка подключения к базам данных
- Проверка моделей и схем
- Анализ логов ошибок

### `check_s3_paths.py`
Проверка путей в S3:
- Проверка структуры папок
- Валидация путей к фотографиям
- Анализ доступности файлов

### `check_s3_structure.py`
Анализ структуры S3 хранилища:
- Сканирование папок сессий
- Подсчет файлов
- Проверка форматов

## Тесты подключений

### `test_db_connection.py`
Тест подключения к базам данных:
- Основная база Pixora
- Векторная база
- Проверка доступности таблиц

### `test_s3_config.py`
Тест конфигурации S3:
- Проверка доступов
- Тест загрузки/скачивания
- Валидация настроек

## Функциональные тесты

### `test_endpoints.py`
Ручное тестирование API эндпоинтов:
- Проверка всех маршрутов
- Тест различных сценариев
- Валидация ответов

### `test_facepass_interface.py`
Тест пользовательского интерфейса:
- Проверка HTML страниц
- Тест JavaScript функций
- Валидация форм

### `test_production_urls.py`
Тест продакшн URL:
- Проверка доступности
- Тест редиректов
- Валидация SSL

## Тесты исправлений

### `test_similarity_fix.py`
Тест исправления алгоритма сходства:
- Проверка математических формул
- Тест нормализации векторов
- Валидация результатов

### `test_similarity_logging.py`
Тест логирования сходства:
- Проверка вывода логов
- Тест форматирования
- Валидация уровней

### `test_simple_indexing.py`
Простой тест индексации:
- Базовая проверка процесса
- Тест с минимальными данными
- Быстрая диагностика

## Использование

### Запуск отдельного скрипта
```bash
python tests/manual/diagnose_500_errors.py
python tests/manual/test_db_connection.py
```

### С параметрами
```bash
python tests/manual/check_s3_paths.py --session-id "uuid"
python tests/manual/test_endpoints.py --verbose
```

### Для отладки
```bash
python tests/manual/diagnose_500_errors.py --debug
```

## Когда использовать

- **При настройке нового окружения** - `test_db_connection.py`, `test_s3_config.py`
- **При отладке ошибок** - `diagnose_500_errors.py`
- **При проблемах с S3** - `check_s3_*.py`
- **При тестировании исправлений** - `test_*_fix.py`
- **Перед деплоем** - `test_production_urls.py`